<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Update Post</title>
  <link rel="stylesheet" href="/style.css">
  <style>
    
    form {
      margin-top: 20px;
    }
  </style>
</head>

<body>
  <h1>Edit Post</h1>

  <form id="updateForm" action="/update/<%= post._id %>" method="post">
    <label id="labelu" for="title">Title:</label><br>
    <input type="text" id="titleu" name="title" value="<%= post.title %>" required><br><br>
    <label id="labelu" for="description">Description:</label><br>
    <input type="text" id="descriptionu" name="description" value="<%= post.description %>" minlength="2" maxlength="100" required>
<br><br>
    <label id="labelu" for="content">Content:</label><br>
    <textarea id="contentu" name="content" rows="4" required><%= post.content %></textarea>
    <p id="warning">*content box is expandable</p>

    <button id="updatebutton" type="button" onclick="showConfirmationModal()">Save</button><br><br>
    <a id="backtohome" href="/">Back to Home</a>
  </form>


  <div class="confirm-modal" id="confirmModal">
    <div class="confirm-box">
      <p>Are you sure you want to update this post?</p>
      <div class="confirm-buttons">
        <button class="yes" onclick="updatePost()">Yes</button>
        <button class="no" onclick="hideConfirmationModal()">No</button>
      </div>
    </div>
  </div>

  <script>
    function showConfirmationModal() {
      document.getElementById('confirmModal').style.display = 'flex';
    }

    function hideConfirmationModal() {
      document.getElementById('confirmModal').style.display = 'none';
    }

    function updatePost() {
      document.getElementById('confirmModal').style.display = 'none';
      document.getElementById('updateForm').submit();
    }
  </script>
</body>

</html>
